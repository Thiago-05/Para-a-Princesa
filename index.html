<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Acesso</title>
  <style>
    :root{
      --pink1:#ff4fa3;
      --pink2:#ff77b9;
      --pink3:#ff9fd2;
      --card:#ffffff22;
      --card2:#ffffff18;
      --text:#ffffff;
      --shadow: 0 20px 60px rgba(0,0,0,.35);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color: var(--text);
      overflow:hidden;
    }

    /* --- Login screen --- */
    .screen{
      position:fixed; inset:0;
      display:grid;
      place-items:center;
      padding:24px;
    }

    .bg-pink{
      background:
        radial-gradient(1200px 600px at 10% 10%, #ffffff40, transparent 60%),
        radial-gradient(900px 500px at 90% 20%, #ffffff33, transparent 55%),
        linear-gradient(180deg, var(--pink1), var(--pink2) 50%, var(--pink3));
    }

    /* Heart pattern (subtle) */
    .bg-pink::before{
      content:"";
      position:absolute; inset:0;
      opacity:.22;
      background-image:
        radial-gradient(circle at 10px 10px, #ffffff 2px, transparent 2.2px),
        radial-gradient(circle at 35px 25px, #ffffff 1.5px, transparent 1.8px),
        radial-gradient(circle at 55px 55px, #ffffff 1.2px, transparent 1.6px);
      background-size: 80px 80px;
      filter: blur(.2px);
      pointer-events:none;
    }

    .card{
      width:min(520px, 100%);
      border-radius: 22px;
      padding: 26px 22px;
      background: linear-gradient(180deg, var(--card), var(--card2));
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.25);
      position:relative;
    }

    .header{
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      gap:10px;
      margin-bottom:18px;
      text-align:center;
    }

    .lock-wrap{
      width:110px; height:110px;
      border-radius: 28px;
      background: rgba(255,255,255,.18);
      display:grid;
      place-items:center;
      border: 1px solid rgba(255,255,255,.28);
      position:relative;
      overflow:hidden;
    }

    /* Simple lock icon */
    .lock{
      width:54px; height:54px;
      position:relative;
      transform: translateY(2px);
    }
    .lock::before{
      content:"";
      position:absolute;
      left:50%; top:-20px;
      width:42px; height:34px;
      transform: translateX(-50%);
      border: 7px solid rgba(255,255,255,.95);
      border-bottom:none;
      border-radius: 22px 22px 0 0;
      opacity:.9;
    }
    .lock::after{
      content:"";
      position:absolute;
      left:50%; top:12px;
      width:58px; height:48px;
      transform: translateX(-50%);
      background: rgba(255,255,255,.92);
      border-radius: 14px;
      box-shadow: inset 0 -8px 0 rgba(0,0,0,.08);
    }
    .keyhole{
      position:absolute;
      left:50%; top:52%;
      width:12px; height:18px;
      transform: translate(-50%,-50%);
      background: rgba(0,0,0,.25);
      border-radius: 10px;
      z-index:2;
    }
    .keyhole::after{
      content:"";
      position:absolute;
      left:50%; top:13px;
      width:10px; height:10px;
      transform: translateX(-50%);
      background: rgba(0,0,0,.25);
      border-radius: 2px 2px 10px 10px;
    }

    h1{
      margin:0;
      font-size: 20px;
      letter-spacing:.2px;
      text-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    .sub{
      margin:0;
      opacity:.9;
      font-size: 14px;
    }

    .code{
      display:flex;
      gap:10px;
      justify-content:center;
      margin: 18px 0 8px;
    }

    .digit{
      width:56px;
      height:64px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.35);
      background: rgba(0,0,0,.12);
      color: #fff;
      text-align:center;
      font-size: 28px;
      font-weight: 700;
      outline:none;
      box-shadow: inset 0 -10px 18px rgba(0,0,0,.10);
    }
    .digit:focus{
      border-color: rgba(255,255,255,.6);
      box-shadow: 0 0 0 4px rgba(255,255,255,.18), inset 0 -10px 18px rgba(0,0,0,.10);
    }

    .actions{
      display:flex;
      gap:12px;
      justify-content:center;
      margin-top: 14px;
      flex-wrap:wrap;
    }

    button{
      border:0;
      cursor:pointer;
      border-radius: 14px;
      padding: 12px 16px;
      font-weight: 700;
      color: #2b0a18;
      background: rgba(255,255,255,.92);
      box-shadow: 0 18px 40px rgba(0,0,0,.25);
      transition: transform .08s ease, filter .15s ease;
      min-width: 160px;
    }
    button:active{ transform: translateY(1px) scale(.99); }
    button.secondary{
      background: rgba(0,0,0,.18);
      color: #fff;
      border: 1px solid rgba(255,255,255,.28);
      box-shadow:none;
    }

    .status{
      margin-top: 12px;
      text-align:center;
      min-height: 20px;
      font-size: 14px;
      opacity: .95;
    }

    /* --- Animation screen --- */
    .bg-dark{
      background:
        radial-gradient(900px 700px at 50% 35%, rgba(255,105,180,.10), transparent 65%),
        radial-gradient(1200px 800px at 50% 120%, rgba(255,105,180,.08), transparent 60%),
        #07070a;
    }
    .bg-dark::before{
      content:"";
      position:absolute; inset:0;
      background-image: radial-gradient(circle, rgba(255,255,255,.06) 1px, transparent 1.2px);
      background-size: 26px 26px;
      opacity:.7;
      pointer-events:none;
    }

    #canvas{
      width: min(920px, 96vw);
      height: min(680px, 72vh);
      border-radius: 22px;
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
    }

    .top-hint{
      position:absolute;
      top: 18px;
      left:50%;
      transform: translateX(-50%);
      display:flex;
      gap:10px;
      align-items:center;
      opacity:.9;
      font-size: 13px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(10px);
      user-select:none;
    }

    .hide{ display:none !important; }

    /* small */
    @media (max-width:420px){
      .digit{ width:52px; height:62px; }
      button{ min-width: 140px; }
    }
  </style>
</head>

<body>
  <!-- LOGIN -->
  <div id="loginScreen" class="screen bg-pink">
    <div class="card">
      <div class="header">
        <div class="lock-wrap" aria-hidden="true">
          <div class="lock"></div>
          <div class="keyhole"></div>
        </div>
        <h1>Digite a senha</h1>
        <p class="sub">São 4 números.</p>
      </div>

      <div class="code" role="group" aria-label="Senha de 4 dígitos">
        <input class="digit" inputmode="numeric" maxlength="1" aria-label="Dígito 1" />
        <input class="digit" inputmode="numeric" maxlength="1" aria-label="Dígito 2" />
        <input class="digit" inputmode="numeric" maxlength="1" aria-label="Dígito 3" />
        <input class="digit" inputmode="numeric" maxlength="1" aria-label="Dígito 4" />
      </div>

      <div class="actions">
        <button id="btnEnter">Entrar</button>
        <button id="btnClear" class="secondary" type="button">Limpar</button>
      </div>

      <div id="status" class="status"></div>
    </div>
  </div>

  <!-- ANIMATION -->
  <div id="animScreen" class="screen bg-dark hide">
    <div class="top-hint">✅ Acesso liberado — clique para “explodir” as partículas</div>
    <canvas id="canvas" width="920" height="680"></canvas>
  </div>

  <script>
    // ====== CONFIG ======
    const CORRECT_PASSWORD = "1802"; // <- senha exigida

    // ====== LOGIN LOGIC ======
    const loginScreen = document.getElementById("loginScreen");
    const animScreen  = document.getElementById("animScreen");
    const statusEl    = document.getElementById("status");
    const btnEnter    = document.getElementById("btnEnter");
    const btnClear    = document.getElementById("btnClear");
    const digits      = Array.from(document.querySelectorAll(".digit"));

    function setStatus(msg, ok=false){
      statusEl.textContent = msg;
      statusEl.style.color = ok ? "#dfffe6" : "#fff";
      statusEl.style.opacity = msg ? "1" : ".95";
    }

    function getCode(){
      return digits.map(d => d.value).join("");
    }

    function clearCode(){
      digits.forEach(d => d.value = "");
      digits[0].focus();
      setStatus("");
    }

    function validate(){
      const code = getCode();
      if(code.length < 4){
        setStatus("Digite os 4 números.");
        return;
      }
      if(code === CORRECT_PASSWORD){
        setStatus("Certo! Entrando…", true);
        setTimeout(() => {
          loginScreen.classList.add("hide");
          animScreen.classList.remove("hide");
          startAnimation();
        }, 450);
      }else{
        setStatus("Senha incorreta. Tente novamente.");
        shake();
        setTimeout(clearCode, 450);
      }
    }

    function shake(){
      const card = loginScreen.querySelector(".card");
      card.animate(
        [
          { transform: "translateX(0)" },
          { transform: "translateX(-8px)" },
          { transform: "translateX(8px)" },
          { transform: "translateX(-6px)" },
          { transform: "translateX(6px)" },
          { transform: "translateX(0)" }
        ],
        { duration: 320, easing: "ease-out" }
      );
    }

    // Auto-advance & only digits
    digits.forEach((inp, idx) => {
      inp.addEventListener("input", () => {
        inp.value = (inp.value || "").replace(/\D/g, "").slice(0,1);
        if(inp.value && idx < digits.length - 1) digits[idx+1].focus();
        if(getCode().length === 4) validate();
      });
      inp.addEventListener("keydown", (e) => {
        if(e.key === "Backspace" && !inp.value && idx > 0){
          digits[idx-1].focus();
        }
        if(e.key === "Enter") validate();
      });
      inp.addEventListener("paste", (e) => {
        e.preventDefault();
        const txt = (e.clipboardData.getData("text") || "").replace(/\D/g,"").slice(0,4);
        txt.split("").forEach((ch,i) => { if(digits[i]) digits[i].value = ch; });
        (digits[Math.min(txt.length,3)] || digits[3]).focus();
        if(getCode().length === 4) validate();
      });
    });

    btnEnter.addEventListener("click", validate);
    btnClear.addEventListener("click", clearCode);

    // Focus first digit
    digits[0].focus();

    // ====== PARTICLE HEART ANIMATION (NO TEXT) ======
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d", { alpha: true });

    let W, H, DPR;
    function resizeCanvas(){
      // keep crisp on HiDPI
      DPR = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      const rect = canvas.getBoundingClientRect();
      W = Math.floor(rect.width * DPR);
      H = Math.floor(rect.height * DPR);
      canvas.width = W;
      canvas.height = H;
    }

    function rand(min, max){ return min + Math.random() * (max - min); }

    // Create heart shape target points
    function heartPoint(t){
      // classic parametric heart
      const x = 16 * Math.pow(Math.sin(t), 3);
      const y = 13*Math.cos(t) - 5*Math.cos(2*t) - 2*Math.cos(3*t) - Math.cos(4*t);
      return { x, y };
    }

    function buildTargets(count){
      const targets = [];
      // outline + fill-ish distribution
      for(let i=0;i<count;i++){
        const t = rand(0, Math.PI * 2);
        const p = heartPoint(t);

        // scale and some random radial jitter to fill
        const fill = Math.random();
        const scale = 14 + fill * 10; // bigger spread = more "filled"
        const cx = W * 0.5;
        const cy = H * 0.5 + 10*DPR;

        const sx = (p.x * scale) * DPR;
        const sy = (-p.y * scale) * DPR;

        // jitter toward center
        const jx = (Math.random() - 0.5) * 10 * DPR * (1 - fill);
        const jy = (Math.random() - 0.5) * 10 * DPR * (1 - fill);

        targets.push({
          x: cx + sx + jx,
          y: cy + sy + jy
        });
      }
      return targets;
    }

    class Particle{
      constructor(target){
        this.reset(target, true);
      }
      reset(target, instant=false){
        this.tx = target.x; this.ty = target.y;
        // spawn around edges
        const edge = Math.floor(Math.random()*4);
        if(edge===0){ this.x = rand(0,W); this.y = -20*DPR; }
        if(edge===1){ this.x = W+20*DPR; this.y = rand(0,H); }
        if(edge===2){ this.x = rand(0,W); this.y = H+20*DPR; }
        if(edge===3){ this.x = -20*DPR; this.y = rand(0,H); }

        this.vx = rand(-1.2,1.2) * DPR;
        this.vy = rand(-1.2,1.2) * DPR;

        this.r = rand(1.2, 2.6) * DPR;
        this.baseR = this.r;

        // bright particles
        const hues = [330, 340, 350, 0, 10, 300, 280];
        this.h = hues[Math.floor(Math.random()*hues.length)];
        this.s = rand(70, 100);
        this.l = rand(50, 65);
        this.a = rand(0.75, 1.0);

        this.pull = rand(0.010, 0.020); // attraction strength
        this.friction = rand(0.90, 0.94);
        this.wobble = rand(0.2, 0.8);

        if(instant){
          this.x = this.tx + rand(-8,8)*DPR;
          this.y = this.ty + rand(-8,8)*DPR;
        }
      }
      update(time){
        const dx = this.tx - this.x;
        const dy = this.ty - this.y;

        this.vx += dx * this.pull;
        this.vy += dy * this.pull;

        // wobble
        this.vx += Math.sin(time*0.002 + this.wobble) * 0.03 * DPR;
        this.vy += Math.cos(time*0.002 + this.wobble) * 0.03 * DPR;

        this.vx *= this.friction;
        this.vy *= this.friction;

        this.x += this.vx;
        this.y += this.vy;

        // subtle breathing
        this.r = this.baseR + Math.sin(time*0.004 + this.wobble) * 0.35 * DPR;
      }
      draw(){
        ctx.beginPath();
        ctx.fillStyle = `hsla(${this.h},${this.s}%,${this.l}%,${this.a})`;
        ctx.arc(this.x, this.y, this.r, 0, Math.PI*2);
        ctx.fill();
      }
      explode(){
        // push away from center
        const cx = W*0.5, cy = H*0.5;
        const dx = this.x - cx, dy = this.y - cy;
        const d  = Math.max(10*DPR, Math.hypot(dx,dy));
        this.vx += (dx/d) * rand(6, 12) * DPR;
        this.vy += (dy/d) * rand(6, 12) * DPR;
      }
    }

    let particles = [];
    let targets = [];
    let rafId = null;

    function startAnimation(){
      resizeCanvas();
      targets = buildTargets(1500); // density
      particles = targets.map(t => new Particle(t));
      // initial settle: already near target but still moving
      loop(performance.now());
    }

    function loop(t){
      ctx.clearRect(0,0,W,H);

      // soft vignette glow
      ctx.save();
      const grad = ctx.createRadialGradient(W*0.5, H*0.45, 20*DPR, W*0.5, H*0.55, Math.max(W,H)*0.55);
      grad.addColorStop(0, "rgba(255,105,180,0.12)");
      grad.addColorStop(1, "rgba(0,0,0,0)");
      ctx.fillStyle = grad;
      ctx.fillRect(0,0,W,H);
      ctx.restore();

      for(const p of particles){
        p.update(t);
        p.draw();
      }

      rafId = requestAnimationFrame(loop);
    }

    // click to "explode" and then reform
    canvas.addEventListener("click", () => {
      particles.forEach(p => p.explode());
      // after a moment, pull back to heart
      setTimeout(() => {
        // slightly reshuffle targets for a fresh look
        targets = buildTargets(1500);
        for(let i=0;i<particles.length;i++){
          particles[i].tx = targets[i].x;
          particles[i].ty = targets[i].y;
        }
      }, 520);
    });

    window.addEventListener("resize", () => {
      if(animScreen.classList.contains("hide")) return;
      cancelAnimationFrame(rafId);
      startAnimation();
    });
  </script>
</body>
</html>
